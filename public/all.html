<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All data</title>

    <style>
        #data-div>div{
            margin: 50px;
        }
    </style>
</head>
<body>
<h2>GET THAT DATA!</h2>
<div id="data-div">

</div>

<a href="index.html"><button>Go back and upload more data</button></a>


<script>
    getData();
    async function getData(){
        const url = '/api';
        const res = await fetch(url);
        const data = await res.json();
        for (let item of data){
            const newDiv = document.createElement('div');

            const moodDiv = document.createElement('div');
            moodDiv.innerText = item.feeling;
            newDiv.appendChild(moodDiv);

            const dateDiv = document.createElement('div');
            // calculate date using timestamp
            const date = new Date(Math.floor(Number(item.timestamp)));
            dateDiv.innerText = date;
            newDiv.appendChild(dateDiv);

            document.getElementById('data-div').appendChild(newDiv);
        }
    }
</script>
</body>
</html>